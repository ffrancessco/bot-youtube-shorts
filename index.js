function a0_0x41ca(_0x1d12d0,_0x5d8e94){const _0x42e7fe=a0_0x42e7();return a0_0x41ca=function(_0x41ca28,_0x542147){_0x41ca28=_0x41ca28-0x174;let _0x2c5097=_0x42e7fe[_0x41ca28];return _0x2c5097;},a0_0x41ca(_0x1d12d0,_0x5d8e94);}const a0_0x4317f8=a0_0x41ca;(function(_0x3b1a60,_0x1f4f66){const _0x1697d5=a0_0x41ca,_0x3a2b9a=_0x3b1a60();while(!![]){try{const _0x40236f=-parseInt(_0x1697d5(0x1c3))/0x1+-parseInt(_0x1697d5(0x1b9))/0x2*(parseInt(_0x1697d5(0x207))/0x3)+-parseInt(_0x1697d5(0x174))/0x4+parseInt(_0x1697d5(0x1db))/0x5*(-parseInt(_0x1697d5(0x183))/0x6)+parseInt(_0x1697d5(0x1fe))/0x7+parseInt(_0x1697d5(0x1de))/0x8*(parseInt(_0x1697d5(0x21b))/0x9)+parseInt(_0x1697d5(0x19d))/0xa*(parseInt(_0x1697d5(0x1be))/0xb);if(_0x40236f===_0x1f4f66)break;else _0x3a2b9a['push'](_0x3a2b9a['shift']());}catch(_0x3d3d4c){_0x3a2b9a['push'](_0x3a2b9a['shift']());}}}(a0_0x42e7,0x6fa60));import{google}from'googleapis';import{createClient}from'pexels';import{GoogleGenerativeAI}from'@google/generative-ai';import a0_0x4bb59f from'fluent-ffmpeg';import a0_0x423470 from'fs/promises';import a0_0x47de43 from'path';function a0_0x42e7(){const _0x58dff1=['Folder\x20musik\x20\x27','stringify','save','api_secrets','Video\x20berhasil\x20diunggah!\x20ID:\x20','response','floor','finish','Langkah\x201/3:\x20Menggabungkan\x20footage...','isTokenExpiring','Peringatan\x20saat\x20menghapus\x20','pathname','[v_final]','getGenerativeModel','font_path','token.json','ids','=====\x20MEMULAI\x20BOT\x20KUTIPAN\x20=====','audio_settings','Langkah\x203/3:\x20Menggabungkan\x20semua\x20elemen\x20ke\x20video\x20final...','text','input','Lisensi\x20valid.\x20Melanjutkan\x20eksekusi.','auth','hashtags','toISOString','.mp3','840063csEDry','has','\x22\x20-font\x20\x22','stream','\x27.\x20Melewati\x20eksekusi.','\x27...','random','split','final_video.mp4','447yrSCja','used_pexels_ids.log','-safe\x200','quotes','bot_mode','Gagal\x20membaca\x20file\x20kutipan:\x20','complexFilter','json','file\x20\x27','YT_CHANNEL_NAME','Memperbarui\x20semua\x20file\x20log...','Token\x20berhasil\x20di-refresh.','pexels_keyword','snippet,status','.wav','duration_seconds','...\x22','extname','mkdir','convert\x20-background\x20\x22','1098NVCdyx','inputOptions','Error\x20ImageMagick:\x20','Montage\x20berhasil\x20dibuat.','api_keys','message','title','2705648coRlgw','footage_count','redirect_uris','.m4a','writeFile','length','-c:a','ai_prompt','Membuat\x20video\x20kutipan\x20dengan\x20alur\x20\x27Prerender\x20Montage\x27...','Respons\x20Gemini\x20tidak\x20valid.',']\x20-\x20','File\x20musik\x20dipilih:\x20','&product=','find','OAuth2','6zIZJwG','filter','end','-loop\x201','slice','downloads','processed_quotes.log','Mencari\x20','quality','status','Memulai\x20proses\x20otorisasi\x20dari\x20file...','utf-8','Memuat\x20config.json...','readFile','description','FATAL\x20ERROR:\x20Bot\x20berhenti\x20karena:\x20','-map',')-(h/2)','url','error','portrait','[0:v]scale=1080:1920:force_original_aspect_ratio=increase,crop=1080:1920[base]','parse','(H*','Membersihkan\x20file\x20temporary...','Memulai\x20validasi\x20lisensi...','845480UPqdOv','pexels','aac','Gagal\x20mem-parsing\x20metadata\x20dari\x20Gemini:\x20','Menghasilkan\x20metadata\x20kutipan\x20dengan\x20Gemini\x20AI...','montage.mp4','height','ytbshorts','2:a','Memulai\x20upload\x20video\x20ke\x20YouTube...','insert','output','lastIndexOf','unlink','quote_text.png','config.json','GET','Gambar\x20teks\x20berhasil\x20dibuat.','FATAL:\x20Nama\x20secret\x20untuk\x20API\x20Key\x20tidak\x20ditemukan\x20di\x20env.','data','inspirasi','trim','File\x20log\x20dan\x20sumber\x20berhasil\x20diperbarui.','Membaca\x20file\x20kutipan\x20dan\x20log...','Tidak\x20cukup\x20footage\x20baru\x20(<\x20','tags','ERROR','generateContent','5094caYHBt','push','setCredentials','Proses\x20bot\x20kutipan\x20selesai\x20dengan\x20sukses!','replace','253nkKNwR','youtube_settings','gemini','env','File\x20log\x20ID\x20Pexels\x20tidak\x20ditemukan.','887161PnUmMG','public','substring','Gagal\x20menghubungi\x20server\x20lisensi:\x20','-stream_loop\x20-1','Tidak\x20ada\x20kutipan\x20baru\x20untuk\x20diproses.','Kutipan\x20baru\x20ditemukan:\x20\x22','#shorts','channel_name','KESALAHAN:\x20GitHub\x20Secret\x20\x27BOT_LICENSE_EMAIL\x27\x20tidak\x20ditemukan.','font_color','Langkah\x202/3:\x20Membuat\x20gambar\x20teks\x20overlay...','FATAL:\x20token.json\x20tidak\x20ditemukan.','youtube','client_secret.json','exit','search','WARN','videos','source_file','\x27\x20tidak\x20ditemukan.','join','dirname','Mode\x20bot\x20diatur\x20ke\x20\x27','2166565mTHLwQ','Gagal\x20membuat\x20montage:\x20','music_folder','50432NfLfsG','video_files','indexOf','Selesai\x20mengunduh:\x20','duration'];a0_0x42e7=function(){return _0x58dff1;};return a0_0x42e7();}import a0_0x2f0804 from'https';import{exec}from'child_process';import a0_0x2a5938 from'axios';import a0_0x5ac73d from'node-fetch';const log=(_0x3ddcb2,_0x4b4c96='INFO')=>console['log']('['+new Date()[a0_0x4317f8(0x1fc)]()+a0_0x4317f8(0x17e)+_0x4b4c96+'\x20-\x20'+_0x3ddcb2),VALIDATION_SERVER_URL='https://license-server-botnews.vercel.app/api/validate',PRODUCT_NAME=a0_0x4317f8(0x1a4);async function checkLicense(){const _0x578d36=a0_0x4317f8;log(_0x578d36(0x19c));const _0x296a95=process[_0x578d36(0x1c1)]['BOT_LICENSE_EMAIL'];if(!_0x296a95)throw new Error(_0x578d36(0x1cc));const _0x4bd484=VALIDATION_SERVER_URL+'?email='+_0x296a95+_0x578d36(0x180)+PRODUCT_NAME;try{const _0x55f359=await a0_0x5ac73d(_0x4bd484,{'timeout':0x3a98}),_0x19691a=await _0x55f359[_0x578d36(0x20e)]();if(_0x55f359['ok']&&_0x19691a['status']==='valid')return log(_0x578d36(0x1f9)),!![];throw new Error('Lisensi\x20tidak\x20valid\x20atau\x20ditolak\x20(Status:\x20'+_0x55f359[_0x578d36(0x18c)]+').');}catch(_0x3ee913){throw new Error(_0x578d36(0x1c6)+_0x3ee913[_0x578d36(0x220)]);}}const __dirname=a0_0x47de43[a0_0x4317f8(0x1d9)](new URL(import.meta[a0_0x4317f8(0x195)])[a0_0x4317f8(0x1ee)]),OUTPUT_DIR=a0_0x47de43['join'](__dirname,a0_0x4317f8(0x1a8)),DOWNLOADS_DIR=a0_0x47de43['join'](__dirname,a0_0x4317f8(0x188)),FINAL_VIDEO_PATH=a0_0x47de43[a0_0x4317f8(0x1d8)](OUTPUT_DIR,a0_0x4317f8(0x206)),CONFIG_FILE=a0_0x47de43[a0_0x4317f8(0x1d8)](__dirname,a0_0x4317f8(0x1ac)),CONCAT_LIST_PATH=a0_0x47de43['join'](DOWNLOADS_DIR,'concat_list.txt'),TEXT_IMAGE_PATH=a0_0x47de43['join'](DOWNLOADS_DIR,a0_0x4317f8(0x1ab));async function loadConfig(){const _0xee5d65=a0_0x4317f8;log(_0xee5d65(0x18f));const _0x5715b3=await a0_0x423470['readFile'](CONFIG_FILE,_0xee5d65(0x18e)),_0xa293da=JSON['parse'](_0x5715b3),_0x2f7a6a=_0xa293da[_0xee5d65(0x1e6)]||{};_0xa293da[_0xee5d65(0x1bf)][_0xee5d65(0x1cb)]=process[_0xee5d65(0x1c1)][_0xee5d65(0x210)]||_0xa293da[_0xee5d65(0x1bf)][_0xee5d65(0x1cb)],_0xa293da[_0xee5d65(0x21f)]={'pexels':process['env'][_0x2f7a6a['pexels']],'gemini':process[_0xee5d65(0x1c1)][_0x2f7a6a[_0xee5d65(0x1c0)]]};if(!_0xa293da[_0xee5d65(0x21f)][_0xee5d65(0x19e)]||!_0xa293da[_0xee5d65(0x21f)][_0xee5d65(0x1c0)])throw new Error(_0xee5d65(0x1af));return _0xa293da;}async function authorize(){const _0x15784f=a0_0x4317f8;log(_0x15784f(0x18d));const _0x3162c0=a0_0x47de43[_0x15784f(0x1d8)](__dirname,_0x15784f(0x1d1)),_0x19335b=a0_0x47de43[_0x15784f(0x1d8)](__dirname,_0x15784f(0x1f2)),_0x43d599=await a0_0x423470[_0x15784f(0x190)](_0x3162c0,_0x15784f(0x18e)),_0x16b6a3=JSON[_0x15784f(0x199)](_0x43d599),_0x379f61=_0x16b6a3['installed']||_0x16b6a3['web'],_0x41d68a=new google[(_0x15784f(0x1fa))][(_0x15784f(0x182))](_0x379f61['client_id'],_0x379f61['client_secret'],_0x379f61['redirect_uris']?_0x379f61[_0x15784f(0x176)][0x0]:undefined);try{const _0x5573c2=await a0_0x423470[_0x15784f(0x190)](_0x19335b,_0x15784f(0x18e));_0x41d68a[_0x15784f(0x1bb)](JSON[_0x15784f(0x199)](_0x5573c2));}catch(_0x4523bf){throw new Error(_0x15784f(0x1cf));}if(_0x41d68a[_0x15784f(0x1ec)]&&_0x41d68a[_0x15784f(0x1ec)]()){const {credentials:_0x57b667}=await _0x41d68a['refreshAccessToken']();_0x41d68a[_0x15784f(0x1bb)](_0x57b667),await a0_0x423470['writeFile'](_0x19335b,JSON[_0x15784f(0x1e4)](_0x57b667)),log(_0x15784f(0x212));}return log('Otorisasi\x20dari\x20file\x20berhasil.'),_0x41d68a;}async function uploadVideo(_0x37f0b1,_0x555aea,_0x43439c,_0x19216e){const _0x422382=a0_0x4317f8;log(_0x422382(0x1a6));const _0x5ab42b=google[_0x422382(0x1d0)]('v3'),_0x55c5df=_0x43439c[_0x422382(0x221)]||_0x19216e[_0x422382(0x1c5)](0x0,0x63),_0x2af676=_0x43439c[_0x422382(0x191)]||_0x19216e+'\x0a\x0a'+(_0x43439c['hashtags']?_0x43439c[_0x422382(0x1fb)]['map'](_0x10bcf1=>'#'+_0x10bcf1)[_0x422382(0x1d8)]('\x20'):_0x422382(0x1ca)),_0xaa3774=_0x43439c[_0x422382(0x1b6)]||_0x43439c['hashtags']||[_0x422382(0x20a),_0x422382(0x1b1),'motivasi'],_0x473348='22',_0x51dc41=await _0x5ab42b[_0x422382(0x1d5)][_0x422382(0x1a7)]({'auth':_0x37f0b1,'part':_0x422382(0x214),'requestBody':{'snippet':{'title':_0x55c5df,'description':_0x2af676,'tags':_0xaa3774,'categoryId':_0x473348},'status':{'privacyStatus':_0x422382(0x1c4)}},'media':{'body':(await import('fs'))['createReadStream'](_0x555aea)}});return log(_0x422382(0x1e7)+_0x51dc41[_0x422382(0x1b0)]['id']),_0x51dc41[_0x422382(0x1b0)];}function wrapText(_0x2094d4,_0x3915a7){const _0x5e53e7=a0_0x4317f8,_0x15c63e=_0x2094d4[_0x5e53e7(0x205)]('\x20');let _0x3b790=[],_0x36a6cd='';for(const _0x2dc689 of _0x15c63e){(_0x36a6cd+'\x20'+_0x2dc689)[_0x5e53e7(0x179)]>_0x3915a7&&_0x36a6cd[_0x5e53e7(0x179)]>0x0?(_0x3b790[_0x5e53e7(0x1ba)](_0x36a6cd),_0x36a6cd=_0x2dc689):_0x36a6cd+=(_0x36a6cd['length']===0x0?'':'\x20')+_0x2dc689;}return _0x3b790['push'](_0x36a6cd),_0x3b790[_0x5e53e7(0x1d8)]('\x0a');}async function cleanup(_0x3eebc1){const _0x3df6b8=a0_0x4317f8;log(_0x3df6b8(0x19b));for(const _0x2189f6 of _0x3eebc1){try{await a0_0x423470['stat'](_0x2189f6)['catch'](()=>![])&&await a0_0x423470[_0x3df6b8(0x1aa)](_0x2189f6);}catch(_0x5f1c73){log(_0x3df6b8(0x1ed)+_0x2189f6+':\x20'+_0x5f1c73[_0x3df6b8(0x220)],_0x3df6b8(0x1d4));}}}async function getQuote(_0xfe92f0){const _0x217f15=a0_0x4317f8,_0x5be23=a0_0x47de43[_0x217f15(0x1d8)](__dirname,_0xfe92f0[_0x217f15(0x1d6)]),_0x1113b9=a0_0x47de43[_0x217f15(0x1d8)](__dirname,'processed_quotes.log');log(_0x217f15(0x1b4));let _0x1df0b1=[];try{const _0x26ca79=await a0_0x423470[_0x217f15(0x190)](_0x5be23,_0x217f15(0x18e));_0x1df0b1=_0x26ca79[_0x217f15(0x205)]('\x0a')[_0x217f15(0x184)](_0x107fb3=>_0x107fb3[_0x217f15(0x1b2)]()!=='');}catch(_0x22dd36){throw new Error(_0x217f15(0x20c)+_0x5be23);}let _0x4a7d41=new Set();try{const _0xf0aa63=await a0_0x423470[_0x217f15(0x190)](_0x1113b9,_0x217f15(0x18e));_0x4a7d41=new Set(_0xf0aa63[_0x217f15(0x205)]('\x0a')[_0x217f15(0x184)](_0x86b236=>_0x86b236[_0x217f15(0x1b2)]()!==''));}catch(_0xc3b993){log('File\x20log\x20kutipan\x20tidak\x20ditemukan,\x20akan\x20dianggap\x20kosong.');}for(const _0x22dfe1 of _0x1df0b1){if(!_0x4a7d41[_0x217f15(0x1ff)](_0x22dfe1))return log(_0x217f15(0x1c9)+_0x22dfe1[_0x217f15(0x1c5)](0x0,0x32)+_0x217f15(0x217)),_0x22dfe1;}return log('Selesai:\x20Semua\x20kutipan\x20sudah\x20pernah\x20diproses.'),null;}async function getMusicPath(_0x3e03bc){const _0x443f26=a0_0x4317f8,_0x1b173f=a0_0x47de43[_0x443f26(0x1d8)](__dirname,_0x3e03bc[_0x443f26(0x1dd)]);try{const _0x43b0ca=await a0_0x423470['readdir'](_0x1b173f),_0x3acd80=_0x43b0ca[_0x443f26(0x184)](_0x353e5c=>[_0x443f26(0x1fd),_0x443f26(0x215),_0x443f26(0x177)]['includes'](a0_0x47de43[_0x443f26(0x218)](_0x353e5c)['toLowerCase']()));if(_0x3acd80[_0x443f26(0x179)]===0x0)return null;const _0x3b959d=_0x3acd80[Math[_0x443f26(0x1e9)](Math[_0x443f26(0x204)]()*_0x3acd80[_0x443f26(0x179)])];return log(_0x443f26(0x17f)+_0x3b959d),a0_0x47de43['join'](_0x1b173f,_0x3b959d);}catch(_0x54be94){return log(_0x443f26(0x1e3)+_0x1b173f+_0x443f26(0x1d7),_0x443f26(0x1d4)),null;}}async function downloadFootage(_0x4d22d0,_0x57a791,_0x46346b=0x7){const _0x182a94=a0_0x4317f8;log(_0x182a94(0x18a)+_0x46346b+'\x20klip\x20video\x20di\x20Pexels:\x20\x27'+_0x57a791+_0x182a94(0x203));const _0x52cf48=createClient(_0x4d22d0),_0x2ab95c=a0_0x47de43[_0x182a94(0x1d8)](__dirname,_0x182a94(0x208));let _0x2b4bdf=new Set();try{_0x2b4bdf=new Set((await a0_0x423470[_0x182a94(0x190)](_0x2ab95c,_0x182a94(0x18e)))[_0x182a94(0x205)]('\x0a'));}catch(_0x212edb){log(_0x182a94(0x1c2));}const _0x37010e=await _0x52cf48['videos'][_0x182a94(0x1d3)]({'query':_0x57a791,'page':0x1,'per_page':0x50,'orientation':_0x182a94(0x197)});if(!_0x37010e[_0x182a94(0x1d5)]||_0x37010e[_0x182a94(0x1d5)]['length']===0x0)throw new Error('Tidak\x20ada\x20video\x20Pexels\x20yang\x20ditemukan.');const _0x42534a=_0x37010e[_0x182a94(0x1d5)][_0x182a94(0x184)](_0x169f3d=>!_0x2b4bdf[_0x182a94(0x1ff)](String(_0x169f3d['id'])));if(_0x42534a[_0x182a94(0x179)]<_0x46346b)throw new Error(_0x182a94(0x1b5)+_0x46346b+')\x20ditemukan.');const _0x12aec4={'paths':[],'ids':[]},_0x441fed=_0x42534a['sort'](()=>0.5-Math['random']())[_0x182a94(0x187)](0x0,_0x46346b);for(const _0x2fb425 of _0x441fed){const _0x9f0a09=_0x2fb425[_0x182a94(0x1df)][_0x182a94(0x181)](_0x38b9be=>_0x38b9be[_0x182a94(0x18b)]==='hd'&&_0x38b9be[_0x182a94(0x1a3)]>=0x438)||_0x2fb425[_0x182a94(0x1df)][0x0],_0x125ed9=_0x9f0a09['link'],_0x51a78b=a0_0x47de43[_0x182a94(0x1d8)](DOWNLOADS_DIR,_0x2fb425['id']+'.mp4'),_0x279e05=(await import('fs'))['createWriteStream'](_0x51a78b),_0x56680c=await a0_0x2a5938({'url':_0x125ed9,'method':_0x182a94(0x1ad),'responseType':_0x182a94(0x201)});_0x56680c[_0x182a94(0x1b0)]['pipe'](_0x279e05),await new Promise((_0x4d972b,_0x577a3a)=>{const _0x58982d=_0x182a94;_0x279e05['on'](_0x58982d(0x1ea),()=>{const _0x220259=_0x58982d;log(_0x220259(0x1e1)+_0x2fb425['id']+'.mp4'),_0x4d972b();}),_0x279e05['on'](_0x58982d(0x196),_0x577a3a);}),_0x12aec4['paths'][_0x182a94(0x1ba)](_0x51a78b),_0x12aec4[_0x182a94(0x1f3)]['push'](String(_0x2fb425['id']));}return _0x12aec4;}async function generateQuoteMetadata(_0x483bb9,_0x3f5e54,_0x1786be){const _0x3de9cd=a0_0x4317f8;log(_0x3de9cd(0x1a1));const _0x735a3=new GoogleGenerativeAI(_0x483bb9),_0x26e88e=_0x735a3[_0x3de9cd(0x1f0)]({'model':'gemini-1.5-flash'}),_0x472bcc=_0x1786be['replace']('{quote}',_0x3f5e54);try{const _0x463a3a=await _0x26e88e[_0x3de9cd(0x1b8)](_0x472bcc),_0x10d122=_0x463a3a[_0x3de9cd(0x1e8)][_0x3de9cd(0x1f7)](),_0x12fe84=_0x10d122[_0x3de9cd(0x1e0)]('{'),_0x5c10fe=_0x10d122[_0x3de9cd(0x1a9)]('}');if(_0x12fe84===-0x1||_0x5c10fe===-0x1)throw new Error(_0x3de9cd(0x17d));return JSON[_0x3de9cd(0x199)](_0x10d122[_0x3de9cd(0x1c5)](_0x12fe84,_0x5c10fe+0x1));}catch(_0x2cfd34){return log(_0x3de9cd(0x1a0)+_0x2cfd34[_0x3de9cd(0x220)],'ERROR'),{};}}async function createQuoteVideo(_0x22fb3d,_0x5ce4e7,_0xae7c47,_0x3840ef,_0x18872f){const _0x1aaea0=a0_0x4317f8;log(_0x1aaea0(0x17c));const {video_settings:_0x316ae2,text_settings:_0x48bc25}=_0x3840ef,_0x291b0c=a0_0x47de43[_0x1aaea0(0x1d8)](DOWNLOADS_DIR,'montage.mp4'),_0x3e9002=_0x22fb3d['map'](_0x282d32=>_0x1aaea0(0x20f)+_0x282d32[_0x1aaea0(0x1bd)](/\\/g,'/')+'\x27')[_0x1aaea0(0x1d8)]('\x0a');await a0_0x423470[_0x1aaea0(0x178)](CONCAT_LIST_PATH,_0x3e9002),log(_0x1aaea0(0x1eb)),await new Promise((_0x39a453,_0x1ec8ec)=>{const _0x37d602=_0x1aaea0;a0_0x4bb59f()[_0x37d602(0x1f8)](CONCAT_LIST_PATH)[_0x37d602(0x21c)](['-f\x20concat',_0x37d602(0x209)])['outputOptions']('-c\x20copy')['on'](_0x37d602(0x185),()=>{const _0xe48c15=_0x37d602;log(_0xe48c15(0x21e)),_0x39a453();})['on']('error',(_0x1ecfa8,_0x59c9c6,_0x7b8efb)=>_0x1ec8ec(new Error(_0x37d602(0x1dc)+(_0x7b8efb||_0x1ecfa8[_0x37d602(0x220)]))))[_0x37d602(0x1e5)](_0x291b0c);}),log(_0x1aaea0(0x1ce));const _0x1893f5=wrapText(_0xae7c47,0x1e),_0x20aaf7=_0x1aaea0(0x21a)+_0x48bc25['background_color']+'\x22\x20-fill\x20\x22'+_0x48bc25[_0x1aaea0(0x1cd)]+_0x1aaea0(0x200)+a0_0x47de43[_0x1aaea0(0x1d8)](__dirname,_0x48bc25[_0x1aaea0(0x1f1)])+'\x22\x20-pointsize\x20'+_0x48bc25['font_size']+'\x20-gravity\x20Center\x20-size\x20980x\x20-interline-spacing\x2015\x20caption:\x22'+_0x1893f5['replace'](/"/g,'\x5c\x22')+'\x22\x20\x22'+TEXT_IMAGE_PATH+'\x22';await new Promise((_0x2c1207,_0x18dfa7)=>{exec(_0x20aaf7,(_0x26b88f,_0x34a543,_0x4a54f6)=>{const _0x4d5f82=a0_0x41ca;if(_0x26b88f)return _0x18dfa7(new Error(_0x4d5f82(0x21d)+(_0x4a54f6||_0x26b88f[_0x4d5f82(0x220)])));log(_0x4d5f82(0x1ae)),_0x2c1207(_0x34a543);});}),log(_0x1aaea0(0x1f6));const _0x162bbf=_0x1aaea0(0x19a)+(_0x48bc25['vertical_align']||0.5)+_0x1aaea0(0x194);return new Promise((_0x5a1805,_0x5b4b79)=>{const _0x351c4a=_0x1aaea0,_0x2e9317=a0_0x4bb59f(_0x291b0c)[_0x351c4a(0x21c)]([_0x351c4a(0x1c7)])[_0x351c4a(0x1f8)](TEXT_IMAGE_PATH)[_0x351c4a(0x21c)]([_0x351c4a(0x186)]);if(_0x5ce4e7)_0x2e9317['input'](_0x5ce4e7)[_0x351c4a(0x21c)](['-stream_loop\x20-1']);_0x2e9317[_0x351c4a(0x20d)]([_0x351c4a(0x198),'[base][1:v]overlay=(W-w)/2:'+_0x162bbf+_0x351c4a(0x1ef)])['outputOptions']([_0x351c4a(0x193),_0x351c4a(0x1ef),_0x351c4a(0x193),_0x5ce4e7?_0x351c4a(0x1a5):'0:a',_0x351c4a(0x17a),_0x351c4a(0x19f)])[_0x351c4a(0x1e2)](_0x316ae2[_0x351c4a(0x216)])['on'](_0x351c4a(0x185),()=>{log('Video\x20kutipan\x20berhasil\x20dibuat:\x20'+_0x18872f),_0x5a1805(_0x18872f);})['on']('error',(_0x1480f6,_0x78dd94,_0x3d42ac)=>_0x5b4b79(new Error('Error\x20FFmpeg:\x20'+(_0x3d42ac||_0x1480f6[_0x351c4a(0x220)]))))[_0x351c4a(0x1e5)](_0x18872f);});}async function updateLogFiles(_0x3c2335,_0x3ba1ac,_0x1e33f8){const _0x375e76=a0_0x4317f8,_0x43de08=a0_0x47de43['join'](__dirname,_0x1e33f8[_0x375e76(0x1d6)]),_0x4f0909=a0_0x47de43[_0x375e76(0x1d8)](__dirname,_0x375e76(0x189)),_0x5be31d=a0_0x47de43[_0x375e76(0x1d8)](__dirname,_0x375e76(0x208));log(_0x375e76(0x211)),await a0_0x423470['appendFile'](_0x4f0909,_0x3c2335+'\x0a'),await a0_0x423470['appendFile'](_0x5be31d,_0x3ba1ac['join']('\x0a')+'\x0a');const _0x135704=await a0_0x423470[_0x375e76(0x190)](_0x43de08,_0x375e76(0x18e)),_0x36cb6f=_0x135704['split']('\x0a'),_0x562ac6=_0x36cb6f[_0x375e76(0x184)](_0x18cde0=>_0x18cde0['trim']()!==_0x3c2335[_0x375e76(0x1b2)]());await a0_0x423470[_0x375e76(0x178)](_0x43de08,_0x562ac6['join']('\x0a')),log(_0x375e76(0x1b3));}async function runQuotesBot(_0x24f1cc){const _0x2c1dbc=a0_0x4317f8;log(_0x2c1dbc(0x1f4));const _0x432e0e=_0x24f1cc['quote_bot_config'],_0x4be88a=a0_0x47de43['join'](OUTPUT_DIR,_0x2c1dbc(0x206)),_0x1acc5d=a0_0x47de43['join'](DOWNLOADS_DIR,'quote_text.png'),_0x1f47a0=a0_0x47de43[_0x2c1dbc(0x1d8)](DOWNLOADS_DIR,_0x2c1dbc(0x1a2));let _0x4c7873=[_0x4be88a,_0x1acc5d,CONCAT_LIST_PATH,_0x1f47a0];const _0x186c39=await getQuote(_0x432e0e);if(!_0x186c39){log(_0x2c1dbc(0x1c8));return;}const {paths:_0x28e6a9,ids:_0x31be93}=await downloadFootage(_0x24f1cc[_0x2c1dbc(0x21f)][_0x2c1dbc(0x19e)],_0x432e0e[_0x2c1dbc(0x213)],_0x432e0e[_0x2c1dbc(0x175)]||0x7);_0x4c7873[_0x2c1dbc(0x1ba)](..._0x28e6a9);const _0x5aee3f=await getMusicPath(_0x432e0e[_0x2c1dbc(0x1f5)]);if(_0x5aee3f)_0x4c7873[_0x2c1dbc(0x1ba)](_0x5aee3f);const _0x458297=await generateQuoteMetadata(_0x24f1cc['api_keys'][_0x2c1dbc(0x1c0)],_0x186c39,_0x432e0e[_0x2c1dbc(0x17b)]);await createQuoteVideo(_0x28e6a9,_0x5aee3f,_0x186c39,_0x432e0e,_0x4be88a);const _0x516caf=await authorize();return await uploadVideo(_0x516caf,_0x4be88a,_0x458297,_0x186c39),await updateLogFiles(_0x186c39,_0x31be93,_0x432e0e),log(_0x2c1dbc(0x1bc)),_0x4c7873;}((async()=>{const _0xf0cf56=a0_0x4317f8;let _0x37381a=[];try{await checkLicense(),await a0_0x423470[_0xf0cf56(0x219)](OUTPUT_DIR,{'recursive':!![]}),await a0_0x423470[_0xf0cf56(0x219)](DOWNLOADS_DIR,{'recursive':!![]});const _0x5a519b=await loadConfig();_0x5a519b['bot_mode']==='quotes'?_0x37381a=await runQuotesBot(_0x5a519b):log(_0xf0cf56(0x1da)+_0x5a519b[_0xf0cf56(0x20b)]+_0xf0cf56(0x202));}catch(_0xe030d2){log(_0xf0cf56(0x192)+_0xe030d2[_0xf0cf56(0x220)],_0xf0cf56(0x1b7)),process[_0xf0cf56(0x1d2)](0x1);}finally{await cleanup(_0x37381a);}})());
