const a0_0x1ce5a9=a0_0x5c93;(function(_0x3e914b,_0x57b6d4){const _0x313639=a0_0x5c93,_0x12be37=_0x3e914b();while(!![]){try{const _0x3771ea=parseInt(_0x313639(0x178))/0x1*(parseInt(_0x313639(0x13a))/0x2)+-parseInt(_0x313639(0x136))/0x3*(-parseInt(_0x313639(0x14b))/0x4)+parseInt(_0x313639(0x121))/0x5+-parseInt(_0x313639(0x15e))/0x6*(-parseInt(_0x313639(0x127))/0x7)+parseInt(_0x313639(0x113))/0x8+-parseInt(_0x313639(0x1a3))/0x9+-parseInt(_0x313639(0x19c))/0xa;if(_0x3771ea===_0x57b6d4)break;else _0x12be37['push'](_0x12be37['shift']());}catch(_0x36efdc){_0x12be37['push'](_0x12be37['shift']());}}}(a0_0x2452,0x2a1c0));import{google}from'googleapis';import{createClient}from'pexels';import{GoogleGenerativeAI}from'@google/generative-ai';import a0_0x5f3395 from'fluent-ffmpeg';import a0_0xfa867a from'fs/promises';import a0_0x55ec68 from'path';function a0_0x2452(){const _0x6378c1=['map','[base][1:v]overlay=(W-w)/2:','.wav','FATAL:\x20token.json\x20tidak\x20ditemukan.','dirname','has','sort','push','aac','channel_name','gemini-1.5-flash','{quote}','api_secrets','hashtags','news','lastIndexOf','Otorisasi\x20dari\x20file\x20berhasil.','api_keys','2724816Qcrpii','font_path','downloads','inputOptions','basename','pexels','...\x22','slice','gemini','background_color','YT_CHANNEL_NAME','Tidak\x20ada\x20kutipan\x20baru\x20untuk\x20diproses.','isTokenExpiring','bot_mode','833250ghuKNH','quote_bot_config','random','Tidak\x20cukup\x20footage\x20baru\x20(<\x20','final_video.mp4','vertical_align','77eoGOEL','Video\x20berhasil\x20diunggah!\x20ID:\x20','KESALAHAN:\x20GitHub\x20Secret\x20\x27BOT_LICENSE_EMAIL\x27\x20tidak\x20ditemukan.','BOT_LICENSE_EMAIL','(H*','snippet,status','INFO','ai_prompt','error','-map','convert\x20-background\x20\x22','Memulai\x20upload\x20video\x20ke\x20YouTube...','auth','env','\x22\x20-fill\x20\x22','56844HiQOqv','appendFile','duration','Respons\x20Gemini\x20tidak\x20valid.','16528iVfjit','quality','stringify','FATAL\x20ERROR:\x20Bot\x20berhenti\x20karena:\x20','split','floor','[v_final]','generateContent','title','replace','parse','text','toLowerCase','Video\x20kutipan\x20berhasil\x20dibuat:\x20','outputOptions','font_size','2:a','32QcywXj','\x22\x20\x22','trim','log','utf-8','FATAL:\x20Nama\x20secret\x20untuk\x20API\x20Key\x20tidak\x20ditemukan\x20di\x20env.','Gagal\x20menghubungi\x20server\x20lisensi:\x20','json',')\x20ditemukan.','[0:v]scale=1080:1920:force_original_aspect_ratio=increase,crop=1080:1920[base]','&product=','Menghapus\x20file\x20temporary:\x20','Error\x20ImageMagick:\x20','setCredentials','#shorts','Token\x20berhasil\x20di-refresh.','-c\x20copy','Selesai:\x20Semua\x20kutipan\x20sudah\x20pernah\x20diproses.','Folder\x20musik\x20\x27','138138vJHqaW',']\x20-\x20','readFile','-c:a','save','Gambar\x20teks\x20berhasil\x20dibuat.','Menghasilkan\x20metadata\x20kutipan\x20dengan\x20Gemini\x20AI...','-stream_loop\x20-1','Gagal\x20mem-parsing\x20metadata\x20dari\x20Gemini:\x20','\x27\x20tidak\x20dikenali.','finish','ytbshorts','readdir','writeFile','status','\x27\x20tidak\x20ditemukan.','valid','message','Memulai\x20proses\x20otorisasi\x20dari\x20file...',')-(h/2)','\x22\x20-font\x20\x22','pipe','video_files','client_secret.json','videos','join','8xYPFeu','quotes','processed_quotes.log','Peringatan\x20saat\x20menghapus\x20','filter','Error\x20FFmpeg:\x20','link','input','youtube','refreshAccessToken','height','client_secret','concat_list.txt','data','web','montage.mp4','Membaca\x20file\x20kutipan\x20dan\x20log...','youtube_settings','File\x20musik\x20dipilih:\x20','\x22\x20-pointsize\x20','extname','WARN','Lisensi\x20tidak\x20valid\x20atau\x20ditolak\x20(Status:\x20','audio_settings','tags','used_pexels_ids.log','Memuat\x20config.json...','music_folder','substring','pexels_keyword','-safe\x200','quote_text.png','Gagal\x20membuat\x20montage:\x20','toISOString','Mode\x20Bot\x20Berita\x20tidak\x20diimplementasikan\x20di\x20file\x20ini.','end','6034360ZTTiAV','output','Membersihkan\x20file\x20temporary...','getGenerativeModel','stat','client_id','File\x20log\x20dan\x20sumber\x20berhasil\x20diperbarui.','1820565HuCxaH','duration_seconds','-loop\x201','ids','catch','redirect_uris','Montage\x20berhasil\x20dibuat.','GET','public','unlink','https://license-server-botnews.vercel.app/api/validate','\x20klip\x20video\x20di\x20Pexels:\x20\x27','source_file','length','\x20-\x20','Memulai\x20validasi\x20lisensi...','mkdir','description','File\x20log\x20kutipan\x20tidak\x20ditemukan,\x20akan\x20dianggap\x20kosong.'];a0_0x2452=function(){return _0x6378c1;};return a0_0x2452();}import a0_0x444f54 from'https';import{exec}from'child_process';import a0_0x500484 from'axios';import a0_0xb09b27 from'node-fetch';const log=(_0x19374e,_0x1ce8ec=a0_0x1ce5a9(0x12d))=>console[a0_0x1ce5a9(0x14e)]('['+new Date()[a0_0x1ce5a9(0x199)]()+a0_0x1ce5a9(0x15f)+_0x1ce8ec+a0_0x1ce5a9(0x1b1)+_0x19374e),VALIDATION_SERVER_URL=a0_0x1ce5a9(0x1ad),PRODUCT_NAME=a0_0x1ce5a9(0x169);async function checkLicense(){const _0x4de18f=a0_0x1ce5a9;log(_0x4de18f(0x1b2));const _0x2cd3e2=process[_0x4de18f(0x134)][_0x4de18f(0x12a)];if(!_0x2cd3e2)throw new Error(_0x4de18f(0x129));const _0x517770=VALIDATION_SERVER_URL+'?email='+_0x2cd3e2+_0x4de18f(0x155)+PRODUCT_NAME;try{const _0x2327e4=await a0_0xb09b27(_0x517770,{'timeout':0x3a98}),_0x48f8bb=await _0x2327e4[_0x4de18f(0x152)]();if(_0x2327e4['ok']&&_0x48f8bb[_0x4de18f(0x16c)]===_0x4de18f(0x16e))return log('Lisensi\x20valid.\x20Melanjutkan\x20eksekusi.'),!![];throw new Error(_0x4de18f(0x18e)+_0x2327e4[_0x4de18f(0x16c)]+').');}catch(_0x180026){throw new Error(_0x4de18f(0x151)+_0x180026['message']);}}const __dirname=a0_0x55ec68[a0_0x1ce5a9(0x105)](new URL(import.meta['url'])['pathname']),OUTPUT_DIR=a0_0x55ec68['join'](__dirname,a0_0x1ce5a9(0x19d)),DOWNLOADS_DIR=a0_0x55ec68['join'](__dirname,a0_0x1ce5a9(0x115)),FINAL_VIDEO_PATH=a0_0x55ec68['join'](OUTPUT_DIR,a0_0x1ce5a9(0x125)),CONFIG_FILE=a0_0x55ec68[a0_0x1ce5a9(0x177)](__dirname,'config.json'),CONCAT_LIST_PATH=a0_0x55ec68[a0_0x1ce5a9(0x177)](DOWNLOADS_DIR,a0_0x1ce5a9(0x184)),TEXT_IMAGE_PATH=a0_0x55ec68['join'](DOWNLOADS_DIR,a0_0x1ce5a9(0x197));async function loadConfig(){const _0x7ebacb=a0_0x1ce5a9;log(_0x7ebacb(0x192));const _0x18f8ba=await a0_0xfa867a[_0x7ebacb(0x160)](CONFIG_FILE,_0x7ebacb(0x14f)),_0x335723=JSON[_0x7ebacb(0x144)](_0x18f8ba),_0x3fabde=_0x335723[_0x7ebacb(0x10d)]||{};_0x335723[_0x7ebacb(0x189)][_0x7ebacb(0x10a)]=process['env'][_0x7ebacb(0x11d)]||_0x335723[_0x7ebacb(0x189)]['channel_name'],_0x335723[_0x7ebacb(0x112)]={'pexels':process[_0x7ebacb(0x134)][_0x3fabde[_0x7ebacb(0x118)]],'gemini':process['env'][_0x3fabde[_0x7ebacb(0x11b)]]};if(!_0x335723[_0x7ebacb(0x112)]['pexels']||!_0x335723[_0x7ebacb(0x112)][_0x7ebacb(0x11b)])throw new Error(_0x7ebacb(0x150));return _0x335723;}async function authorize(){const _0x2df2d9=a0_0x1ce5a9;log(_0x2df2d9(0x170));const _0x9e900a=a0_0x55ec68[_0x2df2d9(0x177)](__dirname,_0x2df2d9(0x175)),_0x2de8ab=a0_0x55ec68[_0x2df2d9(0x177)](__dirname,'token.json'),_0x420448=await a0_0xfa867a['readFile'](_0x9e900a,_0x2df2d9(0x14f)),_0x591549=JSON['parse'](_0x420448),_0x580f40=_0x591549['installed']||_0x591549[_0x2df2d9(0x186)],_0x192d04=new google[(_0x2df2d9(0x133))]['OAuth2'](_0x580f40[_0x2df2d9(0x1a1)],_0x580f40[_0x2df2d9(0x183)],_0x580f40[_0x2df2d9(0x1a8)]?_0x580f40[_0x2df2d9(0x1a8)][0x0]:undefined);try{const _0x4ba27b=await a0_0xfa867a['readFile'](_0x2de8ab,_0x2df2d9(0x14f));_0x192d04[_0x2df2d9(0x158)](JSON[_0x2df2d9(0x144)](_0x4ba27b));}catch(_0x16ab81){throw new Error(_0x2df2d9(0x104));}if(_0x192d04[_0x2df2d9(0x11f)]&&_0x192d04[_0x2df2d9(0x11f)]()){const {credentials:_0x160c09}=await _0x192d04[_0x2df2d9(0x181)]();_0x192d04[_0x2df2d9(0x158)](_0x160c09),await a0_0xfa867a[_0x2df2d9(0x16b)](_0x2de8ab,JSON[_0x2df2d9(0x13c)](_0x160c09)),log(_0x2df2d9(0x15a));}return log(_0x2df2d9(0x111)),_0x192d04;}async function uploadVideo(_0x11db59,_0x3992c5,_0x5402c0,_0x566a76){const _0x3093e2=a0_0x1ce5a9;log(_0x3093e2(0x132));const _0x352425=google[_0x3093e2(0x180)]('v3'),_0xf0bd0a=_0x5402c0[_0x3093e2(0x142)]||_0x566a76[_0x3093e2(0x194)](0x0,0x63),_0x2b3a65=_0x5402c0[_0x3093e2(0x1b4)]||_0x566a76+'\x0a\x0a'+(_0x5402c0[_0x3093e2(0x10e)]?_0x5402c0[_0x3093e2(0x10e)]['map'](_0x468b24=>'#'+_0x468b24)[_0x3093e2(0x177)]('\x20'):_0x3093e2(0x159)),_0x36c356=_0x5402c0[_0x3093e2(0x190)]||_0x5402c0[_0x3093e2(0x10e)]||[_0x3093e2(0x179),'inspirasi','motivasi'],_0x131d3f='22',_0xd0b769=await _0x352425[_0x3093e2(0x176)]['insert']({'auth':_0x11db59,'part':_0x3093e2(0x12c),'requestBody':{'snippet':{'title':_0xf0bd0a,'description':_0x2b3a65,'tags':_0x36c356,'categoryId':_0x131d3f},'status':{'privacyStatus':_0x3093e2(0x1ab)}},'media':{'body':(await import('fs'))['createReadStream'](_0x3992c5)}});return log(_0x3093e2(0x128)+_0xd0b769['data']['id']),_0xd0b769[_0x3093e2(0x185)];}function wrapText(_0x48a78f,_0x230e05){const _0x463535=a0_0x1ce5a9,_0x1d9c31=_0x48a78f[_0x463535(0x13e)]('\x20');let _0x3e7760=[],_0x4bc19e='';for(const _0x49d725 of _0x1d9c31){(_0x4bc19e+'\x20'+_0x49d725)[_0x463535(0x1b0)]>_0x230e05&&_0x4bc19e[_0x463535(0x1b0)]>0x0?(_0x3e7760['push'](_0x4bc19e),_0x4bc19e=_0x49d725):_0x4bc19e+=(_0x4bc19e[_0x463535(0x1b0)]===0x0?'':'\x20')+_0x49d725;}return _0x3e7760[_0x463535(0x108)](_0x4bc19e),_0x3e7760[_0x463535(0x177)]('\x0a');}function a0_0x5c93(_0x16665d,_0x17fd0e){const _0x245230=a0_0x2452();return a0_0x5c93=function(_0x5c93ae,_0x3855af){_0x5c93ae=_0x5c93ae-0x101;let _0x34a22=_0x245230[_0x5c93ae];return _0x34a22;},a0_0x5c93(_0x16665d,_0x17fd0e);}async function cleanup(_0x45c362){const _0x2d97d7=a0_0x1ce5a9;log(_0x2d97d7(0x19e));for(const _0x3a7953 of _0x45c362){if(_0x3a7953['includes'](DOWNLOADS_DIR)||_0x3a7953['includes'](OUTPUT_DIR))try{await a0_0xfa867a[_0x2d97d7(0x1a0)](_0x3a7953)[_0x2d97d7(0x1a7)](()=>![])&&(log(_0x2d97d7(0x156)+a0_0x55ec68[_0x2d97d7(0x117)](_0x3a7953)),await a0_0xfa867a[_0x2d97d7(0x1ac)](_0x3a7953));}catch(_0x97502c){log(_0x2d97d7(0x17b)+_0x3a7953+':\x20'+_0x97502c[_0x2d97d7(0x16f)],_0x2d97d7(0x18d));}}}async function getQuote(_0x21993b){const _0x31f75b=a0_0x1ce5a9,_0x55d0c2=a0_0x55ec68[_0x31f75b(0x177)](__dirname,_0x21993b[_0x31f75b(0x1af)]),_0x481b8d=a0_0x55ec68[_0x31f75b(0x177)](__dirname,_0x31f75b(0x17a));log(_0x31f75b(0x188));let _0x47c74d=[];try{const _0x32618d=await a0_0xfa867a['readFile'](_0x55d0c2,_0x31f75b(0x14f));_0x47c74d=_0x32618d[_0x31f75b(0x13e)]('\x0a')[_0x31f75b(0x17c)](_0x3911d9=>_0x3911d9[_0x31f75b(0x14d)]()!=='');}catch(_0x235058){throw new Error('Gagal\x20membaca\x20file\x20kutipan:\x20'+_0x55d0c2);}let _0x2f122d=new Set();try{const _0x301b8b=await a0_0xfa867a[_0x31f75b(0x160)](_0x481b8d,_0x31f75b(0x14f));_0x2f122d=new Set(_0x301b8b[_0x31f75b(0x13e)]('\x0a')['filter'](_0x11fca7=>_0x11fca7['trim']()!==''));}catch(_0x1f5216){log(_0x31f75b(0x1b5));}for(const _0x266d43 of _0x47c74d){if(!_0x2f122d['has'](_0x266d43))return log('Kutipan\x20baru\x20ditemukan:\x20\x22'+_0x266d43[_0x31f75b(0x194)](0x0,0x32)+_0x31f75b(0x119)),_0x266d43;}return log(_0x31f75b(0x15c)),null;}async function getMusicPath(_0x1c9a52){const _0x39af9a=a0_0x1ce5a9,_0x19e017=a0_0x55ec68[_0x39af9a(0x177)](__dirname,_0x1c9a52[_0x39af9a(0x193)]);try{const _0x3900fb=await a0_0xfa867a[_0x39af9a(0x16a)](_0x19e017),_0x1a5a96=_0x3900fb['filter'](_0x36e915=>['.mp3',_0x39af9a(0x103),'.m4a']['includes'](a0_0x55ec68[_0x39af9a(0x18c)](_0x36e915)[_0x39af9a(0x146)]()));if(_0x1a5a96[_0x39af9a(0x1b0)]===0x0)return null;const _0x352b8b=_0x1a5a96[Math[_0x39af9a(0x13f)](Math[_0x39af9a(0x123)]()*_0x1a5a96['length'])];return log(_0x39af9a(0x18a)+_0x352b8b),a0_0x55ec68[_0x39af9a(0x177)](_0x19e017,_0x352b8b);}catch(_0x2a5b55){return log(_0x39af9a(0x15d)+_0x19e017+_0x39af9a(0x16d),_0x39af9a(0x18d)),null;}}async function downloadFootage(_0x33097a,_0x399643,_0x565628=0x7){const _0x3bd4c3=a0_0x1ce5a9;log('Mencari\x20'+_0x565628+_0x3bd4c3(0x1ae)+_0x399643+'\x27...');const _0x164505=createClient(_0x33097a),_0x293084=a0_0x55ec68['join'](__dirname,_0x3bd4c3(0x191));let _0x571b37=new Set();try{_0x571b37=new Set((await a0_0xfa867a[_0x3bd4c3(0x160)](_0x293084,_0x3bd4c3(0x14f)))[_0x3bd4c3(0x13e)]('\x0a'));}catch(_0x9ac96){log('File\x20log\x20ID\x20Pexels\x20tidak\x20ditemukan.');}const _0x40cc58=await _0x164505['videos']['search']({'query':_0x399643,'page':0x1,'per_page':0x50,'orientation':'portrait'});if(!_0x40cc58['videos']||_0x40cc58[_0x3bd4c3(0x176)]['length']===0x0)throw new Error('Tidak\x20ada\x20video\x20Pexels\x20yang\x20ditemukan.');const _0x2f9301=_0x40cc58['videos'][_0x3bd4c3(0x17c)](_0x3409e9=>!_0x571b37[_0x3bd4c3(0x106)](String(_0x3409e9['id'])));if(_0x2f9301[_0x3bd4c3(0x1b0)]<_0x565628)throw new Error(_0x3bd4c3(0x124)+_0x565628+_0x3bd4c3(0x153));const _0x45eff8={'paths':[],'ids':[]},_0x8815ae=_0x2f9301[_0x3bd4c3(0x107)](()=>0.5-Math[_0x3bd4c3(0x123)]())[_0x3bd4c3(0x11a)](0x0,_0x565628);for(const _0x2d7c35 of _0x8815ae){const _0x332498=_0x2d7c35['video_files']['find'](_0x1722a0=>_0x1722a0[_0x3bd4c3(0x13b)]==='hd'&&_0x1722a0[_0x3bd4c3(0x182)]>=0x438)||_0x2d7c35[_0x3bd4c3(0x174)][0x0],_0x5e22ce=_0x332498[_0x3bd4c3(0x17e)],_0x163f8e=a0_0x55ec68[_0x3bd4c3(0x177)](DOWNLOADS_DIR,_0x2d7c35['id']+'.mp4'),_0x58f154=(await import('fs'))['createWriteStream'](_0x163f8e),_0x2e8b46=await a0_0x500484({'url':_0x5e22ce,'method':_0x3bd4c3(0x1aa),'responseType':'stream'});_0x2e8b46[_0x3bd4c3(0x185)][_0x3bd4c3(0x173)](_0x58f154),await new Promise((_0x15cb4e,_0x93bc17)=>{const _0x36bb81=_0x3bd4c3;_0x58f154['on'](_0x36bb81(0x168),()=>{log('Selesai\x20mengunduh:\x20'+_0x2d7c35['id']+'.mp4'),_0x15cb4e();}),_0x58f154['on'](_0x36bb81(0x12f),_0x93bc17);}),_0x45eff8['paths']['push'](_0x163f8e),_0x45eff8[_0x3bd4c3(0x1a6)][_0x3bd4c3(0x108)](String(_0x2d7c35['id']));}return _0x45eff8;}async function generateQuoteMetadata(_0x77dc22,_0x12f240,_0x5407bb){const _0x3c9779=a0_0x1ce5a9;log(_0x3c9779(0x164));const _0x25abec=new GoogleGenerativeAI(_0x77dc22),_0x299a1a=_0x25abec[_0x3c9779(0x19f)]({'model':_0x3c9779(0x10b)}),_0x3e6afb=_0x5407bb[_0x3c9779(0x143)](_0x3c9779(0x10c),_0x12f240);try{const _0x3c1748=await _0x299a1a[_0x3c9779(0x141)](_0x3e6afb),_0x3acd63=_0x3c1748['response'][_0x3c9779(0x145)](),_0x438ba3=_0x3acd63['indexOf']('{'),_0x631d5c=_0x3acd63[_0x3c9779(0x110)]('}');if(_0x438ba3===-0x1||_0x631d5c===-0x1)throw new Error(_0x3c9779(0x139));return JSON[_0x3c9779(0x144)](_0x3acd63[_0x3c9779(0x194)](_0x438ba3,_0x631d5c+0x1));}catch(_0x2da96f){return log(_0x3c9779(0x166)+_0x2da96f['message'],'ERROR'),{};}}async function createQuoteVideo(_0x144eef,_0x208992,_0x5091a8,_0x480913,_0x39ae4a){const _0x590ef8=a0_0x1ce5a9;log('Membuat\x20video\x20kutipan\x20dengan\x20alur\x20\x27Prerender\x20Montage\x27...');const {video_settings:_0x2c6a15,text_settings:_0x5e3e41}=_0x480913,_0x2c5eaa=a0_0x55ec68[_0x590ef8(0x177)](DOWNLOADS_DIR,_0x590ef8(0x187)),_0x43ad0b=_0x144eef[_0x590ef8(0x101)](_0x123a35=>'file\x20\x27'+_0x123a35[_0x590ef8(0x143)](/\\/g,'/')+'\x27')[_0x590ef8(0x177)]('\x0a');await a0_0xfa867a[_0x590ef8(0x16b)](CONCAT_LIST_PATH,_0x43ad0b),log('Langkah\x201/3:\x20Menggabungkan\x20footage...'),await new Promise((_0x487673,_0x15f44d)=>{const _0x17ca7d=_0x590ef8;a0_0x5f3395()[_0x17ca7d(0x17f)](CONCAT_LIST_PATH)[_0x17ca7d(0x116)](['-f\x20concat',_0x17ca7d(0x196)])[_0x17ca7d(0x148)](_0x17ca7d(0x15b))['on'](_0x17ca7d(0x19b),()=>{const _0x1813c7=_0x17ca7d;log(_0x1813c7(0x1a9)),_0x487673();})['on']('error',(_0x2296c2,_0x5a67f0,_0x32b2a9)=>_0x15f44d(new Error(_0x17ca7d(0x198)+(_0x32b2a9||_0x2296c2['message']))))[_0x17ca7d(0x162)](_0x2c5eaa);}),log('Langkah\x202/3:\x20Membuat\x20gambar\x20teks\x20overlay...');const _0x2509c5=wrapText(_0x5091a8,0x1e),_0x3c9c4d=_0x590ef8(0x131)+_0x5e3e41[_0x590ef8(0x11c)]+_0x590ef8(0x135)+_0x5e3e41['font_color']+_0x590ef8(0x172)+a0_0x55ec68[_0x590ef8(0x177)](__dirname,_0x5e3e41[_0x590ef8(0x114)])+_0x590ef8(0x18b)+_0x5e3e41[_0x590ef8(0x149)]+'\x20-gravity\x20Center\x20-size\x20980x\x20-interline-spacing\x2015\x20caption:\x22'+_0x2509c5[_0x590ef8(0x143)](/"/g,'\x5c\x22')+_0x590ef8(0x14c)+TEXT_IMAGE_PATH+'\x22';await new Promise((_0x540712,_0x4dbade)=>{exec(_0x3c9c4d,(_0x2a2796,_0x113265,_0x367054)=>{const _0x508c49=a0_0x5c93;if(_0x2a2796)return _0x4dbade(new Error(_0x508c49(0x157)+(_0x367054||_0x2a2796['message'])));log(_0x508c49(0x163)),_0x540712(_0x113265);});}),log('Langkah\x203/3:\x20Menggabungkan\x20semua\x20elemen\x20ke\x20video\x20final...');const _0x18405a=_0x590ef8(0x12b)+(_0x5e3e41[_0x590ef8(0x126)]||0.5)+_0x590ef8(0x171);return new Promise((_0x2be88f,_0x14ae04)=>{const _0x282585=_0x590ef8,_0x2f0552=a0_0x5f3395(_0x2c5eaa)[_0x282585(0x116)]([_0x282585(0x165)])[_0x282585(0x17f)](TEXT_IMAGE_PATH)[_0x282585(0x116)]([_0x282585(0x1a5)]);if(_0x208992)_0x2f0552[_0x282585(0x17f)](_0x208992)[_0x282585(0x116)]([_0x282585(0x165)]);_0x2f0552['complexFilter']([_0x282585(0x154),_0x282585(0x102)+_0x18405a+_0x282585(0x140)])[_0x282585(0x148)]([_0x282585(0x130),_0x282585(0x140),_0x282585(0x130),_0x208992?_0x282585(0x14a):'0:a',_0x282585(0x161),_0x282585(0x109)])[_0x282585(0x138)](_0x2c6a15[_0x282585(0x1a4)])['on'](_0x282585(0x19b),()=>{const _0x2ad26f=_0x282585;log(_0x2ad26f(0x147)+_0x39ae4a),_0x2be88f(_0x39ae4a);})['on']('error',(_0x312584,_0x1f8a7c,_0x470c4f)=>_0x14ae04(new Error(_0x282585(0x17d)+(_0x470c4f||_0x312584[_0x282585(0x16f)]))))[_0x282585(0x162)](_0x39ae4a);});}async function updateLogFiles(_0x3b6259,_0x350555,_0x452c9d){const _0x14528c=a0_0x1ce5a9,_0x284115=a0_0x55ec68[_0x14528c(0x177)](__dirname,_0x452c9d[_0x14528c(0x1af)]),_0x4862d1=a0_0x55ec68['join'](__dirname,_0x14528c(0x17a)),_0x509393=a0_0x55ec68[_0x14528c(0x177)](__dirname,_0x14528c(0x191));log('Memperbarui\x20semua\x20file\x20log...'),await a0_0xfa867a[_0x14528c(0x137)](_0x4862d1,_0x3b6259+'\x0a'),await a0_0xfa867a[_0x14528c(0x137)](_0x509393,_0x350555['join']('\x0a')+'\x0a');const _0xb9dbb=await a0_0xfa867a[_0x14528c(0x160)](_0x284115,_0x14528c(0x14f)),_0x3b8040=_0xb9dbb[_0x14528c(0x13e)]('\x0a'),_0x42c6dd=_0x3b8040['filter'](_0x2859bf=>_0x2859bf[_0x14528c(0x14d)]()!==_0x3b6259[_0x14528c(0x14d)]());await a0_0xfa867a[_0x14528c(0x16b)](_0x284115,_0x42c6dd['join']('\x0a')),log(_0x14528c(0x1a2));}async function runQuotesBot(_0xec4b9f){const _0x38d30d=a0_0x1ce5a9;log('=====\x20MEMULAI\x20BOT\x20KUTIPAN\x20=====');const _0x139781=_0xec4b9f[_0x38d30d(0x122)],_0x120f4d=a0_0x55ec68[_0x38d30d(0x177)](OUTPUT_DIR,_0x38d30d(0x125)),_0x5578a9=a0_0x55ec68[_0x38d30d(0x177)](DOWNLOADS_DIR,'quote_text.png'),_0x5a3ac3=a0_0x55ec68[_0x38d30d(0x177)](DOWNLOADS_DIR,_0x38d30d(0x187));let _0x3e64d1=[_0x120f4d,_0x5578a9,CONCAT_LIST_PATH,_0x5a3ac3];const _0x7f77fe=await getQuote(_0x139781);if(!_0x7f77fe){log(_0x38d30d(0x11e));return;}const {paths:_0x522dcb,ids:_0x51d399}=await downloadFootage(_0xec4b9f[_0x38d30d(0x112)][_0x38d30d(0x118)],_0x139781[_0x38d30d(0x195)],_0x139781['footage_count']||0x7);_0x3e64d1[_0x38d30d(0x108)](..._0x522dcb);const _0x48ebad=await getMusicPath(_0x139781[_0x38d30d(0x18f)]);if(_0x48ebad)_0x3e64d1[_0x38d30d(0x108)](_0x48ebad);const _0x5c8a68=await generateQuoteMetadata(_0xec4b9f[_0x38d30d(0x112)][_0x38d30d(0x11b)],_0x7f77fe,_0x139781[_0x38d30d(0x12e)]);await createQuoteVideo(_0x522dcb,_0x48ebad,_0x7f77fe,_0x139781,_0x120f4d);const _0x432ee4=await authorize();return await uploadVideo(_0x432ee4,_0x120f4d,_0x5c8a68,_0x7f77fe),await updateLogFiles(_0x7f77fe,_0x51d399,_0x139781),log('Proses\x20bot\x20kutipan\x20selesai\x20dengan\x20sukses!'),_0x3e64d1;}((async()=>{const _0x16fcb5=a0_0x1ce5a9;let _0x10e807=[];try{await checkLicense(),await a0_0xfa867a[_0x16fcb5(0x1b3)](OUTPUT_DIR,{'recursive':!![]}),await a0_0xfa867a['mkdir'](DOWNLOADS_DIR,{'recursive':!![]});const _0x333190=await loadConfig();if(_0x333190[_0x16fcb5(0x120)]==='quotes')_0x10e807=await runQuotesBot(_0x333190);else{if(_0x333190['bot_mode']===_0x16fcb5(0x10f))log(_0x16fcb5(0x19a));else throw new Error('Mode\x20bot\x20\x27'+_0x333190[_0x16fcb5(0x120)]+_0x16fcb5(0x167));}}catch(_0x45f1af){log(_0x16fcb5(0x13d)+_0x45f1af[_0x16fcb5(0x16f)],'ERROR'),process['exit'](0x1);}finally{await cleanup(_0x10e807);}})());
